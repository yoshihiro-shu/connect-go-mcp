// Code generated by connect-go-mcp DO NOT EDIT.
package testv1mcp

import (
	"context"

	"github.com/google/jsonschema-go/jsonschema"
	"github.com/modelcontextprotocol/go-sdk/mcp"
	connectgomcp "github.com/yoshihiro-shu/connect-go-mcp"
)

// NewMCPServerWithTools creates and returns a configured TestService MCP server
func NewTestServiceMCPServer(baseURL string, opts ...connectgomcp.ClientOption) *mcp.Server {
	server := mcp.NewServer(&mcp.Implementation{
		Name:    "TestService",
		Version: "1.0.0",
	}, nil)

	toolHandler := connectgomcp.NewToolHandler(baseURL, opts...)
	mcp.AddTool(
		server,
		&mcp.Tool{
			Name:        "CreateUser",
			Description: "CreateUser - Creates a new user account in the system.\nNOTE: This method requires valid email verification before account activation.",
			InputSchema: &jsonschema.Schema{
				Type: "object",
				Properties: map[string]*jsonschema.Schema{
					"email": {
						Type:        "string",
						Description: "email",
					},
					"username": {
						Type:        "string",
						Description: "username",
					},
					"password": {
						Type:        "string",
						Description: "password",
					},
				},
			},
		},
		func(ctx context.Context, req *mcp.CallToolRequest, input map[string]any) (*mcp.CallToolResult, any, error) {
			result, err := toolHandler.Handle(ctx, req, "CreateUser", input)
			if err != nil {
				return nil, nil, err
			}
			return result, nil, nil
		},
	)

	mcp.AddTool(
		server,
		&mcp.Tool{
			Name:        "GetUser",
			Description: "GetUser - Retrieves user information by user ID.\n\nPrerequisites:\n- Valid user ID must be provided\n- User must exist in the system",
			InputSchema: &jsonschema.Schema{
				Type: "object",
				Properties: map[string]*jsonschema.Schema{
					"user_id": {
						Type:        "string",
						Description: "user_id",
					},
				},
			},
		},
		func(ctx context.Context, req *mcp.CallToolRequest, input map[string]any) (*mcp.CallToolResult, any, error) {
			result, err := toolHandler.Handle(ctx, req, "GetUser", input)
			if err != nil {
				return nil, nil, err
			}
			return result, nil, nil
		},
	)

	mcp.AddTool(
		server,
		&mcp.Tool{
			Name:        "UpdateUser",
			Description: "UpdateUser - Updates an existing user's information.\n\nThis operation allows updating user profile data.\nOnly the fields provided in the request will be updated.",
			InputSchema: &jsonschema.Schema{
				Type: "object",
				Properties: map[string]*jsonschema.Schema{
					"user_id": {
						Type:        "string",
						Description: "user_id",
					},
					"email": {
						Type:        "string",
						Description: "email",
					},
					"username": {
						Type:        "string",
						Description: "username",
					},
				},
			},
		},
		func(ctx context.Context, req *mcp.CallToolRequest, input map[string]any) (*mcp.CallToolResult, any, error) {
			result, err := toolHandler.Handle(ctx, req, "UpdateUser", input)
			if err != nil {
				return nil, nil, err
			}
			return result, nil, nil
		},
	)

	mcp.AddTool(
		server,
		&mcp.Tool{
			Name:        "DeleteUser",
			Description: "DeleteUser - Deletes a user account from the system.\n\nWARNING: This operation is irreversible!\nAll user data will be permanently deleted.",
			InputSchema: &jsonschema.Schema{
				Type: "object",
				Properties: map[string]*jsonschema.Schema{
					"user_id": {
						Type:        "string",
						Description: "user_id",
					},
					"confirmation_token": {
						Type:        "string",
						Description: "Confirmation token to prevent accidental deletion",
					},
				},
			},
		},
		func(ctx context.Context, req *mcp.CallToolRequest, input map[string]any) (*mcp.CallToolResult, any, error) {
			result, err := toolHandler.Handle(ctx, req, "DeleteUser", input)
			if err != nil {
				return nil, nil, err
			}
			return result, nil, nil
		},
	)

	mcp.AddTool(
		server,
		&mcp.Tool{
			Name:        "SyncData",
			Description: "SyncData\nSynchronizes data between the client and server.\nThis operation may take several minutes depending on the data size.",
			InputSchema: &jsonschema.Schema{
				Type: "object",
				Properties: map[string]*jsonschema.Schema{
					"client_id": {
						Type:        "string",
						Description: "client_id",
					},
					"last_sync_timestamp": {
						Type:        "integer",
						Description: "last_sync_timestamp",
					},
				},
			},
		},
		func(ctx context.Context, req *mcp.CallToolRequest, input map[string]any) (*mcp.CallToolResult, any, error) {
			result, err := toolHandler.Handle(ctx, req, "SyncData", input)
			if err != nil {
				return nil, nil, err
			}
			return result, nil, nil
		},
	)

	mcp.AddTool(
		server,
		&mcp.Tool{
			Name:        "ProcessPayment",
			Description: "ProcessPayment - Processes a payment transaction.\n\nThis is a test RPC for demonstrating multiline comments.\nIt includes special characters like \"quotes\" and \\backslashes\\.\nMultiple lines should be properly escaped in the generated code.",
			InputSchema: &jsonschema.Schema{
				Type: "object",
				Properties: map[string]*jsonschema.Schema{
					"transaction_id": {
						Type:        "string",
						Description: "transaction_id",
					},
					"amount": {
						Type:        "number",
						Description: "amount",
					},
					"currency": {
						Type:        "string",
						Description: "currency",
					},
				},
			},
		},
		func(ctx context.Context, req *mcp.CallToolRequest, input map[string]any) (*mcp.CallToolResult, any, error) {
			result, err := toolHandler.Handle(ctx, req, "ProcessPayment", input)
			if err != nil {
				return nil, nil, err
			}
			return result, nil, nil
		},
	)

	return server
}
